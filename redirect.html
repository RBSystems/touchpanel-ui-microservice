<!DOCTYPE html>
<html>
<head>
	<script>
		function redirect() {
			getJSON('http://localhost:8888/json', function(err, xhr) {
				if (err != null) {
					alert("Something went wrong: " + err.response);	
				} else {
					console.log("data", xhr);	
					window.location = "http://localhost:8888/" + xhr.response.ui;
				}
			}); 
		}	

		function getJSON(url, callback) {
			var xhr = new XMLHttpRequest();
    		xhr.open('GET', url, true);
    		xhr.responseType = 'json';
    		xhr.onload = function() {
      			var status = xhr.status;
      			if (status == 200) {
        			callback(null, xhr);
      			} else {
        			callback(xhr);
      			}
    		};
    		xhr.send();	
		}
	</script>
</head>

<body onload="redirect();">
	<div>
		<h1>Redirecting...</h1>
	</div>
</body>
</html>
