<div class="buttons top">
    <button mat-fab class="power button" (click)="turnOff()" (press)="poweroffall.show()">
        <mat-icon>power_settings_new</mat-icon>
    </button>
    <button mat-fab class="help button" (click)="help.show()">
        <mat-icon>help</mat-icon>
    </button>
</div> 

<div *ngIf="data.panel?.render">
    <wheel top="50vh" right="50vw" [openControlledByPower]="true" [blur]="false" [preset]="data.panel.preset" (init)="onWheelInit()"></wheel>
</div>

<div class="buttons bottom">
    <div *ngIf="data?.panel?.features.includes('share') || true">
        <button mat-fab class="dta button" (click)="selectdisplays.show()">
            <mat-icon>share</mat-icon>
        </button>
    </div>
</div> 

<!-- modal windows -->
<swal #poweroffall>
    <div *swalPartial="swalTargets.content">
        <span>Would you like to turn off everything?</span>
    </div>
</swal>

<swal #help 
    (confirm)="helpConfirmDialog.show()">

    <div *swalPartial="swalTargets.content">
        <span>Please call AV Support at 801-422-7671 for help, or request help by pressing 'Request Help'</span>
    </div>
</swal>

<swal #helpConfirm 
    (cancel)="api.help('cancel').subscribe()">
    
    <div *swalPartial="swalTargets.content">
        <span>Your help request has been recieved. A technician is on their way.</span>
    </div>
</swal>

<swal #selectdisplays 
    (open)="openedSelectDisplaysDialog()">

    <div *swalPartial="swalTargets.title">
        <span>Select displays to share {{wheel.getInput()?.displayname}} with</span>
    </div>

    <div *swalPartial="swalTargets.content">
        <mat-grid-list cols="3">
            <mat-grid-tile *ngFor="let d of data.displays" [colspan]="1" [rowspan]="1">
                <button *ngIf="!wheel.preset.displays.includes(d)" mat-fab color="primary" (click)="toggleSelected(d)">{{d.name}}
                    <div *ngIf="selectedDisplays.includes(d)" class="badge">
                        <mat-icon>check</mat-icon>
                    </div>
                </button>
            </mat-grid-tile>
        </mat-grid-list>
    </div>
</swal>

<swal #displaytoall></swal>
<swal #undisplaytoall></swal>
<swal #changed></swal>
