<!doctype html>
<html style="height:100%;"
<head>
  <meta charset="utf-8">
  <title>TouchpanelUi</title>
  <base href="/">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://npmcdn.com/sweetalert2@4.0.15/dist/sweetalert2.min.css">
  <script src="https://npmcdn.com/sweetalert2@4.0.15/dist/sweetalert2.min.js"></script>
	<script>
		function refresh() {
			location.reload();	
		}

		function confirmreboot() {
			swal({
			  title: 'Are you sure?',
			  type: 'warning',
			  showCancelButton: true,
			  confirmButtonText: 'Reboot',
			  cancelButtonText: 'Cancel',
			  confirmButtonClass: 'btn btn-success',
			  cancelButtonClass: 'btn btn-danger',
			  buttonsStyling: false
			}).then(function () {
				console.log("rebooting");
				$.ajax({
					type: "GET",
					url: "http://localhost:8888/reboot",
					headers: {
						'Access-Control-Allow-Origin': '*'
					},
					contentType: "application/json; charset=utf-8"
				});		
			}, function (dismiss) {
				// do nothing
			})
		}

		function deviceInfo() {
			var deviceinfo;
			$.ajax({
				type: "GET",
					url: "http://localhost:8888/deviceinfo",
					async: false,
					headers: {
						'Access-Control-Allow-Origin': '*'
					},
					contentType: "application/json; charset=utf-8",
					success: function(data) {
						console.log("got device info", data);
						deviceinfo = data;
						swal({
							title: 'Device Info',
							html: 
							`
								<div>
									<span>Hostname:</span>
									<span id="di-hostname"></span>
								</div>
								<div>
									<span>IP Address:</span>
									<span id="di-ipaddress"></span>
								</div>
							`,
							confirmButtonText: 'Done',
							confirmButtonClass: 'btn btn-success',
						})
					}
				});		

			document.getElementById("di-hostname").innerHTML = deviceinfo.hostname;
			document.getElementById("di-ipaddress").innerHTML = deviceinfo.ipaddress;
		}

		function dockerStatus() {
			var dockerstatus;
			$.ajax({
				type: "GET",
					url: "http://localhost:8888/dockerstatus",
					async: false,
					headers: {
						'Access-Control-Allow-Origin': '*'
					},
					contentType: "application/json; charset=utf-8",
					success: function(data) {
						console.log("got docker status", data);
						dockerstatus = data;
						swal({
							title: 'Docker Status',
							html: 
							`
								<div style="overflow-y: hidden; overflow-x: hidden;">
									<pre id="docker-status"></pre>
								</div>
							`,
							confirmButtonText: 'Done',
							confirmButtonClass: 'btn btn-success',
						})
					}
				});		

			$('.swal2-modal').css('overflow-y', 'hidden');	
			$('.swal2-modal').css('margin-top', '');
			document.getElementById("docker-status").innerHTML = dockerstatus;
		}
	</script>
</head>
<body style="height:100%; cursor: none;">
  <app-root>Loading...</app-root>
</body>
</html>
